<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Changelog - Dryad2dataverse</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Changelog";
        var mkdocs_page_input_path = "changelog.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Dryad2dataverse
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Overview</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../script/">The dryadd console application</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../other_utils/">Other utilities</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../compiling/">Compiling or packaging the application</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../reference/">General Reference</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../api_reference/">API Reference</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../track/">Tracking Database Structure</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Changelog</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#v061-11-may-2023">v0.6.1 - 11 May 2023</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#v060-2-may-2023">v0.6.0 - 2 May 2023</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#v058-10-february-2023">v0.5.8 - 10 February 2023</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#v050-7-december-2022">v0.5.0 - 7 December 2022</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#v031-4-february-2022">v0.3.1 - 4 February 2022</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#v014-22-sept-2021">v0.1.4 - 22 Sept 2021</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#v013-10-august-2021">v0.1.3 - 10 August 2021</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#v012-4-may-2021">v0.1.2 - 4 May 2021</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#v011-30-april-2021">v0.1.1 - 30 April 2021</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#v010-08-april-2021">v0.1.0 - 08 April 2021</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../faq/">FAQ</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../credits/">Credits</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Dryad2dataverse</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Changelog</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="dryad2dataverse-changelog">Dryad2dataverse changelog<a class="headerlink" href="#dryad2dataverse-changelog" title="Permanent link">&para;</a></h1>
<p>Perfection on the first attempt is rare.</p>
<h2 id="v061-11-may-2023">v0.6.1 - 11 May 2023<a class="headerlink" href="#v061-11-may-2023" title="Permanent link">&para;</a></h2>
<p>** dryad2dataverse.constants**</p>
<ul>
<li>Eliminated deprecated parameter in call to <code>urllib3.util.Retry</code> as per <a href="https://github.com/urllib3/urllib3/issues/2092">https://github.com/urllib3/urllib3/issues/2092</a></li>
</ul>
<h2 id="v060-2-may-2023">v0.6.0 - 2 May 2023<a class="headerlink" href="#v060-2-may-2023" title="Permanent link">&para;</a></h2>
<ul>
<li>Updated to current Python packaging standards</li>
<li>Installation can now be done straight from <code>pip</code> without resorting to <code>git+http. . .</code></li>
<li>Test framework now <code>unittest</code></li>
<li>Documentation updated</li>
</ul>
<p><strong>dryad2dataverse.constants</strong></p>
<ul>
<li><code>constants.dvurl</code> now defaults to <a href="https://borealisdata.ca">https://borealisdata.ca</a></li>
<li><code>pathlib</code> instead of <code>os.path</code> for greater cross-platform compatibility.</li>
</ul>
<h2 id="v058-10-february-2023">v0.5.8 - 10 February 2023<a class="headerlink" href="#v058-10-february-2023" title="Permanent link">&para;</a></h2>
<ul>
<li>Good lord I misspelled &ldquo;February&rdquo; initially</li>
<li>certifi requirements updated</li>
<li>somewhat better error logging for odd requests failures</li>
<li>Dataverse JSON change to be in compliance with new standards for v5.12+</li>
</ul>
<p>Note that  binaries will no longer be produced for dryad2dataverse. If you want one, you can either contact me and I will create one and add it to the release, or you can make one yourself using PyInstaller or Nuitka. The effort of making them vs the lack of downloads has led to this decision. If this is a problem please create an issue for discussion.</p>
<h2 id="v050-7-december-2022">v0.5.0 - 7 December 2022<a class="headerlink" href="#v050-7-december-2022" title="Permanent link">&para;</a></h2>
<p><strong>dataverse.handlers</strong></p>
<ul>
<li>New handler component</li>
<li>Custom SSL log handler <code>SSLSMTPHandler</code> added which reduces frequency of email problems</li>
</ul>
<p><strong>dryadd.py</strong></p>
<ul>
<li>Mail formatting changed to ensure lines are less than 1000 characters in length to adhere to [RFC 2825 4.5.3.5] (https://www.rfc-editor.org/rfc/rfc2821#section-4.5.3.1).</li>
<li>Logging messages contain more information</li>
<li>Default mail service changed to Yahoo mail</li>
<li>Default dataverse server destination changed to <code>https://borealisdata.ca</code></li>
<li>Help text cleanup</li>
</ul>
<h2 id="v031-4-february-2022">v0.3.1 - 4 February 2022<a class="headerlink" href="#v031-4-february-2022" title="Permanent link">&para;</a></h2>
<p>Changes to the Dryad API sparked a few changes to dryad2dataverse and dryadd.py. More specifically, the Dryad <code>/search</code> API endpoint can produce false positive results, which can result in bulk study replacement when none is required. Additionally, as file IDs are not unique in Dryad (contrary to the documentation), files are no longer identified on the basis of Dryad file ID.</p>
<p><strong>dryad2dataverse.serializer</strong></p>
<ul>
<li><code>Serial.files</code> output now includes explicit hash type</li>
</ul>
<p><strong>dryad2dataverse.monitor</strong></p>
<ul>
<li><code>Monitor.status()</code> now returns values of <code>new, unchanged, updated, filesonly</code></li>
<li>Monitor.status() now includes <code>notes</code> key</li>
<li>Monitor.diff_files() now outputs a list of files for new studies using the <code>add</code> key instead of producing an empty dict.</li>
<li>Monitor.diff_files() outputs of <code>hash_change</code> key listing files whose names and sizes are identical but have either a changed hash or a new one.. Note that this does not necessarily indicate a changed file as hashes have been added to existing files.</li>
<li>Monitor.get_dv_fid() now explicitly selects highest ROWID when returning a Dryad UID as UIDs are not considered persistent identifiers (as per email from Dryad January 2022)</li>
</ul>
<p><strong>dryadd.py</strong></p>
<ul>
<li>Dates are now filtered by metadata <code>lastModificationDate</code> as Dryad search API endpoint does not respect date parameter (as per Dryad email, January 2022). </li>
<li>Databases are now backed up with suffix of <code>.YYYY-MM-DD-HHMM</code> instead of generic <code>.bak</code></li>
<li>Number of backups can be specified as a parameter</li>
<li>Switch added to halt process on excessive number of study updates</li>
<li>Study threshold added to specify what is considered &ldquo;excessive&rdquo;</li>
<li>Recipients are emailed on halt due to excessive updates</li>
<li>Verbosity increased</li>
<li>Output now explicity includes lists of new files instead of empty dict</li>
<li>Updates now skipped on report of <code>unchanged</code> or <code>lastmodsame</code>; ie. metadata is identical <em>or</em> the lastModificationDate field in the Dryad JSON unchanged.</li>
</ul>
<p><strong>Other</strong></p>
<ul>
<li>Binary files are now only included as part of a Github release</li>
<li>Binary release now includes linux x86-64</li>
<li>Dataverse utilities scripts removed; use <a href="https://github.com/ubc-library-rc/dataverse_utils">dataverse_utils</a> instead.</li>
</ul>
<h2 id="v014-22-sept-2021">v0.1.4 - 22 Sept 2021<a class="headerlink" href="#v014-22-sept-2021" title="Permanent link">&para;</a></h2>
<p><strong>requirements.txt</strong></p>
<ul>
<li>Updated version requirements for <code>urllib3</code> and <code>requests</code> to plug dependabot alert hole.</li>
</ul>
<p><strong>dryadd.py</strong></p>
<ul>
<li>Updated associated <code>dryadd.py</code> binaries to use newer versions of <code>requests</code> and <code>urllib3</code></li>
</ul>
<h2 id="v013-10-august-2021">v0.1.3 - 10 August 2021<a class="headerlink" href="#v013-10-august-2021" title="Permanent link">&para;</a></h2>
<p><strong>setup.py</strong></p>
<ul>
<li>Enhanced information</li>
</ul>
<p><strong>dryadd.py</strong></p>
<ul>
<li>Script repair for better functioning on Windows platforms</li>
</ul>
<h2 id="v012-4-may-2021">v0.1.2 - 4 May 2021<a class="headerlink" href="#v012-4-may-2021" title="Permanent link">&para;</a></h2>
<ul>
<li>fixed error in <code>setup.py</code></li>
<li>added binaries of <code>dryadd</code> for Windows and Mac</li>
</ul>
<h2 id="v011-30-april-2021">v0.1.1 - 30 April 2021<a class="headerlink" href="#v011-30-april-2021" title="Permanent link">&para;</a></h2>
<p><strong>dryad2dataverse</strong></p>
<ul>
<li>improved versioning system</li>
</ul>
<p><strong>dryad2dataverse.serializer</strong></p>
<ul>
<li>Fixed bug where keywords were only serialized when grants were present</li>
</ul>
<p><strong>dryad2dataverse.transfer</strong></p>
<ul>
<li>Added better defaults for <code>transfer.set_correct_date</code></li>
</ul>
<p><strong>dryad2dataverse.monitor</strong></p>
<ul>
<li>Added meaningless change to <code>monitor.update</code> for internal consistency</li>
</ul>
<p><strong>scripts/dryadd.py</strong></p>
<ul>
<li>Show version option added</li>
<li><code>transfer.set_correct_date()</code> added to set citation to match Dryad citation.</li>
</ul>
<hr />
<h2 id="v010-08-april-2021">v0.1.0 - 08 April 2021<a class="headerlink" href="#v010-08-april-2021" title="Permanent link">&para;</a></h2>
<ul>
<li>Initial release</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../track/" class="btn btn-neutral float-left" title="Tracking Database Structure"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../faq/" class="btn btn-neutral float-right" title="FAQ">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../track/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../faq/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
